<!DOCTYPE HTML>
<html>
	<head>
		
		<meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="style.css">
        <script type="text/javascript" src="data.js"></script>
		<link href="https://fonts.googleapis.com/css?family=Barlow+Semi+Condensed:300,400,400i,500,600,700" rel="stylesheet">
		<link href='dist/dragula.css' rel='stylesheet' type='text/css' />
		<script type="text/javascript" src="http://code.jquery.com/jquery-1.4.2.min.js">
        </script>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/dragula/$VERSION/dragula.min.js'></script>
        <title>Lav din egen kompetenceprofil</title>
    </head>
    <script>
        var appdata = data;
       
    </script>
    <body>
      <header id = "header"><h1>Lav din egen kompetenceprofil</h1></header>
      <div id = "saved-text"></div>
      <div id = "session-storage"></div>
      <div id = "test"></div>
      <script>
           
        document.getElementById('session-storage').innerHTML =  sessionStorage.getItem("item4")+" "+sessionStorage.getItem("item5");
      </script>
      <section id = "content">
          <div class = "board-wrapper">
              <div id = "done1" class = "board">
                <div class="title"><h2>Kompetencer</h2></div>
              </div>
              <div id = "done2" class = "board">
                <div class="title"><h2>Viden</h2></div>m
               
          </div>
          
          <div id = "done3" class = "board">
            <div class="title"><h2>Færdigheder</h2></div>
            
      </div>
            </div>

            <div class = "board-wrapper">
                
                <div id = "drag1" class = "board drag">
                    
                </div>
                
                <div id = "drag2" class = "board drag">
                    <div class="title"><h2>Viden</h2></div>
            <div id="item6" draggable="true">
				<div class="cardTitle">
					Respektere målgruppen
				</div>
			</div>
			<div id="item7" draggable="true">
				<div class="cardTitle">
					Kende målgrupperelevante metoder inden for bl.a. vejledning, pædagogik, socialfaglighed
				</div>
			</div>
				<div id="item8" draggable="true">
					<div class="cardTitle">
						Kende metoder for tværprofessionelt samarbejde	
					</div>
					</div>
                </div>

                <div id = "drag3" class = "board drag">
                    <div class="title"><h2>Færdigheder</h2></div>
                    <div id="item4" draggable="true">
                        <div class="cardTitle">
                            Kende målgrupperelevante metoder inden for bl.a. vejledning, pædagogik, socialfaglighed
                        </div>
                    </div>
                        <div id="item5" draggable="true">
                            <div class="cardTitle">
                                Kende metoder for tværprofessionelt samarbejde	
                            </div>
                            </div>
                        </div>
                </div>
            </div>
          
      </section>
      
      <script src = "scripts.js"></script>
      <script src = "pdfmake/build/pdfmake.js"></script>
      <script type="text/javascript" src="pdfmake/build/vfs_fonts.js"></script>

      <script>
          
           
         
         let obj = Object.values(appdata.block1)
         let obj2 = Object.values(appdata);
         console.log(getDragItems(appdata));
         
         for (let key in appdata.block1) {
         let value = appdata.block1[key];
         console.log(key, value);
         console.log(value.value);
        }
         
        document.getElementById('drag1').innerHTML = getData(data.block1,'Kompetencer');
        document.getElementById('drag2').innerHTML = getData(data.block2,'Viden');
        document.getElementById('drag3').innerHTML = getData(data.block3,'Færdigheder');

    function getData(arr,title) {
        let html = title;
        for (let key in arr) {
            let value = arr[key];
            html+= '<div id = "'+value.dragid+'" draggable="true">';
            html+='<div class = "cardTitle">'+value.value+'</div>';
            html+= '</div>';
         }
            return html;
        }
        
        function getDragItems(arr){
            let resstring=" ";
            for (let key in arr.block1) {
               let value = arr.block1[key];
                resstring+=value.dragid+',';    
            }
            for (let key2 in arr.block2) {
               let value2 = arr.block2[key2];
                resstring+=value2.dragid+',';    
            }
            for (let key2 in arr.block3) {
               let value2 = arr.block3[key2];
                resstring+=value2.dragid+',';    
            }
            
            return resstring;
        }
    
        var dd = {
        content: [
            window.sessionStorage.getItem('item3'),
            window.sessionStorage.getItem('item4')
        ]
        
    }    
        //pdfMake.createPdf(dd).download();
        
    
          </script>
    
      
	
   
    </body>
    </html>
    